Тестовое задание

Технологии:
Java (11 или выше) + Spring Boot + Hibernate (PostreSQL) + Vaadin
Docker (опционально)
Задача:
Разработать систему управления заявками, где есть сущности «заявка» и «пользователь».
У пользователей 2 роли — «клиент» и «оператор».
Клиент может создавать заявки и просматривать свои заявки.
Оператор может исполнять заявки и просматривать все заявки.
Для работы в системе требуется ввести логин/пароль (регистрацию можно не делать, а
использовать вручную созданных пользователей).
Предполагаемая структура сущностей:
Пользователь
id | name | role | password_hash
id – сквозной инкрементный номер пользователя
role – перечисление вида {client, operator}
password_hash — хэш от пароля (для авторизации)
Заявка
id | client_id | operator_id| status | data | comment | created_at | updated_at
id – сквозной инкрементный номер заявки
client_id — ид из таблицы пользователей, присваивается при создании заявки
operator_id — ид из таблицы пользователей, присваивается при смене статуса оператором
status — перечисление вида {new, error, fixed, done}
• new – присваивается при создании заявки
• error – присваивается оператором, если в data что-то не понравилось, при этом
добавляется комментарий в колонку comment. Пользователь может исправить данные
и отправить на проверку
• fixed – присваивается клиентом при переходе из статуса error после исправления
данных
• done – присваивается оператором когда заявка выполнена — из состояния new или
fixed
data – заполняется пользователем, произвольные данные в виде строки, например «оплата
командировки в размере 20т.р.», «покупка 1 ПК в офис» и т. п. (не важно)
comment – заполняется оператором при наличии каких-то проблем для информирования
пользователя
created_at – timestamp создания заявки
updated_at – timestamp последнего изменения статуса
Логика работы:
При входе в систему предлагается ввести логин и пароль — 1 раз для «сессии».
Главная страница представляет из себя список заявок (таблица), и некоторый функционал в
зависимости от роли пользователя.
Список заявок — это таблица, повторяющая структуру сущности заявка, но вместо client_id и
operator_id должны отображаться соответствующие имена из таблица пользователей.

Для роли клиента над таблицей должна быть кнопка «Создать заявку», которая откроет
форму ввода данных, в нашем случае с единственным полем ввода data.
На форме под полем ввода — кнопки Отмена (закрывает форму) и Сохранить.
При клике на строку в таблице заявок:
Для клиента
• Если заявка имеет статус error, то открывается форма, как при создании заявки, с
дополнительным нередактируемым полем «комментарий», где можно внести
изменения в поле data и сохранить изменения, при этом статус заявки должен
поменяться на fixed.
• Для прочих статусов — показывать окошко «Статус заявки: <значение_статуса>»
Для оператора
• Если статус new или fixed, то открывать форму подтверждения/отклонения: на форме
располагается поле ввода комментария и кнопки Отмена (закрывает форму), Есть
замечания (переводит заявку в состояние error с сохранением комментария,
комментарий обязателен), Выполнить (переводит статус заявки в done)
• Для прочих статусов — показывать окошко «Статус заявки: <значение_статуса>»
